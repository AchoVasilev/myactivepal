<ul
  cdkDropList
  #visibleList="cdkDropList"
  (cdkDropListDropped)="drop($event)"
  [cdkDropListData]="visibleItems"
  [cdkDropListConnectedTo]="[hiddenList]"
  @list
>
  @for (item of visibleItems; track item) {
  <li cdkDrag @items>
    <active-check-list-item
      [item]="item"
      (itemChecked)="onChecked($event)"
      (itemEdited)="onEdit($event)"
      (itemDeleted)="onDelete($event)"
    ></active-check-list-item>
  </li>
  }
</ul>
<ul
  cdkDropList
  #hiddenList="cdkDropList"
  (cdkDropListDropped)="drop($event)"
  [cdkDropListData]="hiddenItems"
  [cdkDropListConnectedTo]="[visibleList]"
  @list
>
  @if (isExpanded) {

  <div @items>
    @for (item of hiddenItems; track item) {

    <li>
      <active-check-list-item
        [item]="item"
        (itemChecked)="onChecked($event)"
        (itemEdited)="onEdit($event)"
        (itemDeleted)="onDelete($event)"
      ></active-check-list-item>
    </li>
    }
  </div>
  }
</ul>

@if (hiddenItems.length) {
<section class="button">
  <div [@rotate]="isExpanded ? 'rotated' : 'default'">
    <active-icon-button
      color="primary"
      ariaLabel="Expand todo list"
      (click)="toggleExpand()"
      iconType="keyboard_arrow_down"
    >
    </active-icon-button>
  </div>
</section>
}
